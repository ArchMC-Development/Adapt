plugins {
    id 'java'
    id "io.freefair.lombok" version "5.3.0"
    id "com.github.johnrengelman.shadow" version "6.0.0"
}

group 'com.volmit'
version '1.0'

java.sourceCompatibility = JavaVersion.VERSION_1_8
String finalJarName = project.name + "-" + project.version;
String finalJarPath = jar.archiveFile.get().getAsFile().getParentFile().getParentFile().getParentFile().getAbsolutePath() + "\\release\\" + project.version + "\\" + finalJarName + ".jar";
String debugpath = "C:\\Users\\cyberpwn\\Documents\\development\\server\\plugins\\Adapt.jar";
String debugmacpath = "/Users/cyberpwn/Documents/development/server/plugins/Adapt.jar";

shadowJar {
    zip64 true
    minimize()
    project.configurations.implementation.canBeResolved = true
    project.configurations.runtime.canBeResolved = true
    project.configurations.compile.canBeResolved = true
    archiveFileName = debugpath
}

task buildRelease {
    group 'Adapt'
    dependsOn 'shadowJar'
}

repositories {
    mavenCentral()
    maven {
        url 'http://repo.volmit.com/repository/volmit/'
    }
}

dependencies {
    implementation 'org.spigotmc:spigot-api:1.16.1-R0.1-SNAPSHOT'
    implementation 'com.google.code.gson:gson:2.8.5'
    implementation 'xyz.xenondevs:particle:1.5.1'
}
